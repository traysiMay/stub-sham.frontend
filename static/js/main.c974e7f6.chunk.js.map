{"version":3,"sources":["components/styles/Show.ts","components/Show.tsx","containers/Home.tsx","components/styles/TicketForm.ts","components/TicketForm.tsx","containers/utils.ts","containers/Purchase.tsx","actions.ts","components/bits/Input.tsx","components/PurchaseButton.tsx","components/CancelButton.tsx","components/CheckoutForm.tsx","containers/Checkout.tsx","containers/Ticket.tsx","containers/Logo.js","Creator.tsx","Waiting.tsx","App.tsx","reducers/shows.ts","reducers/socket.ts","reducers/cart.ts","reducers/index.ts","store.ts","index.tsx"],"names":["Container","styled","div","Img","img","InfoTainer","Button","Show","artist","venue","date","id","purchaseFlow","src","style","position","textTransform","dateFormat","onClick","props","opacity","connect","state","dispatch","history","useState","setOpacity","type","payload","showId","setTimeout","push","shows","onsale","map","s","key","Info","TicketContainer","Separator","Quantity","Dropdown","TicketForm","price","pickQuantity","open","setOpen","selected","setSelected","useEffect","marginLeft","className","background","color","border","width","marginTop","left","top","padding","t","select","showById","find","sendQuantity","quantity","match","show","parseInt","params","Label","SInput","input","Input","label","name","placeholder","handleChange","display","flexDirection","onChange","PurchaseButton","printTicket","fullname","purchasing","setPurchasing","frame","startTime","Date","now","button","document","getElementById","animate","diff","requestAnimationFrame","wave","Math","sin","toString","cancelAnimationFrame","CancelButton","setTop","counter","setCounter","text","setText","onMouseEnter","form","Inputs","Review","ListItemContainer","CheckoutForm","cart","setFullname","floor","e","target","value","gridTemplateColumns","length","to","console","log","qr","setQr","makeQR","a","opts","errorCorrectionLevel","light","dark","rendererOpts","quality","QRCode","toDataURL","showObject","artists","Logo","x","y","viewBox","maxWidth","margin","fill","d","SearchBox","Creator","artistSearch","setAritstSearch","setArtists","error","setError","search","fetch","process","REACT_APP_SERVER","method","credentials","headers","body","JSON","stringify","then","r","json","data","message","items","pick","catch","onKeyDown","i","height","images","url","ChatBox","InputWrapper","sendMessage","getState","socket","emit","inputText","setInputText","chatWrap","useRef","sendIt","current","scrollTop","scrollHeight","messages","options","autoplay","loop","animationData","fontSize","ref","maxHeight","overflow","m","SaleStatus","response","status","readyState","loading","path","component","Purchase","Checkout","Ticket","Home","initialState","connected","reducer","action","WAITER","newState","localStorage","setItem","combineReducers","store","createStore","reducers","applyMiddleware","thunk","next","io","transports","on","getItem","existingCart","parse","ReactDOM","render","basename","StrictMode"],"mappings":"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","file":"static/js/main.c974e7f6.chunk.js","sourcesContent":["import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  border: 6px solid white;\r\n  position: relative;\r\n  background: darkblue;\r\n  margin: 2rem auto;\r\n`;\r\n\r\nexport const Img = styled.img`\r\n  width: 100%;\r\n  display: block;\r\n  margin: auto;\r\n  opacity: 0.7;\r\n`;\r\n\r\nexport const InfoTainer = styled.div`\r\n  position: absolute;\r\n  top: 40px;\r\n  left: 30px;\r\n  letter-spacing: 6px;\r\n  div {\r\n    margin: 10px 0;\r\n  }\r\n`;\r\n\r\nexport const Button = styled.div`\r\n  margin: 30px 0 !important;\r\n\r\n  div {\r\n    border: 3px white solid;\r\n    background: #1f1f1e;\r\n    width: 50px;\r\n    margin: 1rem 0;\r\n    text-align: center;\r\n    padding: 1rem;\r\n    font-weight: 500;\r\n    letter-spacing: 3px;\r\n    cursor: pointer;\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport dateFormat from \"dateformat\";\r\nimport { Container, Img, InfoTainer, Button } from \"./styles/Show\";\r\n\r\ninterface Props {\r\n  artist: string;\r\n  venue: string;\r\n  date: string;\r\n  id: number;\r\n  img: string;\r\n  purchaseFlow: any;\r\n}\r\n\r\nfunction Show({ artist, venue, date, id, img, purchaseFlow }: Props) {\r\n  return (\r\n    <Container>\r\n      <Img src={img} />\r\n      <InfoTainer style={{ position: \"absolute\" }}>\r\n        <div>{artist}</div>\r\n        <div style={{ textTransform: \"capitalize\" }}>{venue}</div>\r\n        <div>{dateFormat(date, \"dddd, mmmm dS, yyyy\")}</div>\r\n        <div>{dateFormat(date, \"h:MM TT\")}</div>\r\n        <Button>\r\n          <div onClick={() => purchaseFlow(id)}>BUY</div>\r\n        </Button>\r\n      </InfoTainer>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default Show;\r\n","import React, { useState } from \"react\";\r\nimport Show from \"../components/Show\";\r\nimport styled from \"styled-components\";\r\nimport { State } from \"../reducers/socket\";\r\nimport { connect } from \"react-redux\";\r\nimport { OnSale } from \"../reducers/shows\";\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  margin: 2rem;\r\n  opacity: ${(props: { opacity: number }) => props.opacity};\r\n  transition: opacity 1s;\r\n`;\r\n\r\ninterface Props {\r\n  dispatch: any;\r\n  history: any;\r\n  state: any;\r\n}\r\n\r\nfunction Home({ dispatch, history, state }: Props) {\r\n  const [opacity, setOpacity] = useState(1);\r\n  const purchaseFlow = (id: number) => {\r\n    setOpacity(0);\r\n    dispatch({ type: \"PICK_SHOW\", payload: { showId: id } });\r\n    setTimeout(() => history.push(`/purchase/${id}`), 1000);\r\n  };\r\n\r\n  return (\r\n    <Container opacity={opacity}>\r\n      {state.shows.onsale &&\r\n        state.shows.onsale.map((s: OnSale) => {\r\n          const { artist, venue, date, id, img } = s;\r\n          return (\r\n            <Show\r\n              key={artist + id}\r\n              artist={artist}\r\n              date={date}\r\n              venue={venue}\r\n              id={id}\r\n              img={img}\r\n              purchaseFlow={purchaseFlow}\r\n            />\r\n          );\r\n        })}\r\n    </Container>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state: State) => ({ state });\r\nconst mapDispatchToProps = (dispatch: any) => ({ dispatch });\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  position: relative;\r\n  overflow: hidden;\r\n  border: 3px solid white;\r\n  width: 333px;\r\n  margin: 2rem auto;\r\n  display: grid;\r\n  grid-template-columns: 1fr 1fr;\r\n  grid-template-rows: 1fr 17% 1fr 1fr;\r\n  padding: 1rem;\r\n  opacity: ${(props: { opacity: number }) => props.opacity};\r\n  transition: opacity 1s;\r\n  img {\r\n    position: absolute;\r\n    z-index: -10;\r\n    width: 100%;\r\n    opacity: 0.5;\r\n  }\r\n`;\r\n\r\nexport const Info = styled.div`\r\n  grid-column: 1/3;\r\n  letter-spacing: 3px;\r\n  div {\r\n    margin-top: 10px;\r\n  }\r\n`;\r\n\r\nexport const TicketContainer = styled.div`\r\n  display: flex;\r\n  grid-column: 1 / span 2;\r\n  margin: 18px 10px 0;\r\n  justify-content: space-around;\r\n`;\r\n\r\nexport const Separator = styled.div`\r\n  font-weight: 900;\r\n  font-size: 1.8rem;\r\n  grid-column: 1/3;\r\n`;\r\n\r\nexport const Quantity = styled.div``;\r\n\r\nexport const Dropdown = styled.div`\r\n  margin-top: -2px;\r\n  cursor: pointer;\r\n  text-align: center;\r\n  li {\r\n    list-style: none;\r\n  }\r\n  &.closed {\r\n    li {\r\n      display: none;\r\n    }\r\n  }\r\n\r\n  .open {\r\n    li {\r\n      display: block;\r\n    }\r\n  }\r\n\r\n  li.clicker {\r\n    display: block;\r\n  }\r\n\r\n  li.selected {\r\n    background: red;\r\n  }\r\n`;\r\n\r\nexport const Button = styled.div`\r\n  cursor: pointer;\r\n  grid-column: 1/3;\r\n  padding: 1rem;\r\n  border: 2px solid white;\r\n  text-align: center;\r\n  height: 25%;\r\n  width: 40%;\r\n  margin: 0 75px;\r\n  background: #1f1f1e;\r\n`;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport dateFormat from \"dateformat\";\r\nimport {\r\n  Container,\r\n  Info,\r\n  Separator,\r\n  TicketContainer,\r\n  Quantity,\r\n  Dropdown,\r\n  Button\r\n} from \"./styles/TicketForm\";\r\n\r\ninterface Props {\r\n  artist: string;\r\n  venue: string;\r\n  date: string;\r\n  price: number;\r\n  pickQuantity: any;\r\n  img: string;\r\n}\r\n\r\nfunction TicketForm({ artist, venue, date, price, pickQuantity, img }: Props) {\r\n  const [open, setOpen] = useState(false);\r\n  const [selected, setSelected] = useState(1);\r\n  const [opacity, setOpacity] = useState(0);\r\n\r\n  useEffect(() => {\r\n    setTimeout(() => setOpacity(1), 100);\r\n  }, []);\r\n\r\n  const nextPage = () => {\r\n    setOpacity(0);\r\n    setTimeout(() => pickQuantity(selected, price), 1000);\r\n  };\r\n\r\n  return (\r\n    <Container opacity={opacity}>\r\n      <Info>\r\n        <div style={{ textTransform: \"capitalize\" }}>\r\n          {artist} @ {venue}\r\n        </div>\r\n        <div>{dateFormat(date, \"dddd, mmmm dS, yyyy\")}</div>\r\n        <div>{dateFormat(date, \"h:MM: TT\")}</div>\r\n      </Info>\r\n      <Separator>_______________________</Separator>\r\n      <TicketContainer>\r\n        <Quantity>\r\n          ${price} <span style={{ marginLeft: 10 }}>X </span>\r\n        </Quantity>\r\n        <Dropdown className={open ? \"open\" : \"closed\"}>\r\n          <div\r\n            style={{\r\n              background: \"#1f1f1e\",\r\n              color: \"white\",\r\n              border: \"2px solid white\",\r\n              width: 50,\r\n              marginTop: 1\r\n            }}\r\n          >\r\n            <li className=\"clicker\" onClick={() => setOpen(!open)}>\r\n              {selected}\r\n            </li>\r\n            <div\r\n              style={{\r\n                position: \"relative\"\r\n              }}\r\n            >\r\n              <div\r\n                style={{\r\n                  position: \"absolute\",\r\n                  width: 50,\r\n                  left: -2,\r\n                  top: 4,\r\n                  background: \"#1f1f1e\",\r\n                  color: \"white\",\r\n                  border: \"2px solid white\",\r\n                  padding: open ? \"7px 0\" : \"\"\r\n                }}\r\n              >\r\n                {[1, 2, 3, 4, 5, 6, 7, 8].map(t => {\r\n                  const select = t === selected ? \"selected\" : \"\";\r\n                  return (\r\n                    <li\r\n                      key={t}\r\n                      className={select}\r\n                      onClick={() => {\r\n                        setSelected(t);\r\n                        setOpen(!open);\r\n                      }}\r\n                    >\r\n                      {t}\r\n                    </li>\r\n                  );\r\n                })}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </Dropdown>\r\n        <div>Total: ${price * selected}.00</div>\r\n      </TicketContainer>\r\n      <Button onClick={nextPage}>CHECKOUT</Button>\r\n      <img src={img} />\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default TicketForm;\r\n","export const showById = (id: number, shows: any): number =>\r\n  shows.onsale.find((s: any) => s.id === id);\r\n","import React, { useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { State } from \"../reducers\";\r\nimport TicketForm from \"../components/TicketForm\";\r\nimport { sendQuantity } from \"../actions\";\r\nimport { showById } from \"./utils\";\r\n\r\ninterface Props {\r\n  state: State;\r\n  history: any;\r\n  match: any;\r\n  sendQuantity: any;\r\n}\r\n\r\nfunction Purchase({ history, match, sendQuantity, state }: Props) {\r\n  const pickQuantity = (quantity: number, price: number) => {\r\n    sendQuantity(quantity, price);\r\n    history.push(`/checkout/${match.params.id}`);\r\n  };\r\n\r\n  const show: any = showById(parseInt(match.params.id), state.shows);\r\n\r\n  if (!show) return <div>what</div>;\r\n  const { artist, date, venue, price, img } = show;\r\n  return (\r\n    <TicketForm\r\n      artist={artist}\r\n      date={date}\r\n      img={img}\r\n      venue={venue}\r\n      price={price}\r\n      pickQuantity={pickQuantity}\r\n    />\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state: State) => ({ state });\r\nconst mapDispatchToProps = (dispatch: any) => ({\r\n  sendQuantity: (quantity: number, price: number) =>\r\n    dispatch(sendQuantity(quantity, price))\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Purchase);\r\n","import { Action } from \"redux\";\r\nimport { State } from \"./reducers\";\r\nimport { ThunkAction } from \"redux-thunk\";\r\nimport io from \"socket.io-client\";\r\nexport const CONNECTING = \"CONNECTING\";\r\nexport const CONNECTED = \"CONNECTED\";\r\n\r\nexport type AppThunk<ReturnType = void> = ThunkAction<\r\n  ReturnType,\r\n  State,\r\n  unknown,\r\n  Action<string>\r\n>;\r\n\r\ninterface SocketConnected {\r\n  connected: boolean;\r\n}\r\n\r\nexport const connectSocket = (): AppThunk => async dispatch => {\r\n  const socket = io(\"https://relay.raptor.pizza\" as string, {\r\n    path: \"/stubsham/socket.io\",\r\n    transports: [\"websocket\"]\r\n  });\r\n  dispatch({ type: CONNECTING, payload: { socket } });\r\n  socket.on(CONNECTED, (connected: SocketConnected) => {\r\n    if (connected) {\r\n      dispatch({ type: CONNECTED, payload: null });\r\n    }\r\n  });\r\n  console.log(socket);\r\n  socket.on(\"message\", (message: string) =>\r\n    dispatch({ type: \"NEW_MESSAGE\", payload: { message } })\r\n  );\r\n  socket.on(\"start\", (data: any) => {\r\n    const { onsale, status } = data;\r\n    dispatch({ type: \"INIT_SHOWS\", payload: { onsale, status } });\r\n  });\r\n};\r\n\r\nexport const initShows = (): AppThunk => dispatch => {\r\n  fetch(`${process.env.REACT_APP_SERVER}/initShows`, { credentials: \"include\" })\r\n    .then(response => {\r\n      return response.json();\r\n    })\r\n    .then(data => {\r\n      const { onsale, status } = data;\r\n      dispatch({ type: \"INIT_SHOWS\", payload: { onsale, status } });\r\n    });\r\n};\r\n\r\nexport const sendQuantity = (\r\n  quantity: number,\r\n  price: number\r\n): AppThunk => dispatch => {\r\n  dispatch({ type: \"CHECKOUT\", payload: { price, quantity } });\r\n};\r\n\r\nexport const sendMessage = (message: string): AppThunk => async (\r\n  dispatch,\r\n  getState\r\n) => {\r\n  const socket = getState().socket.socket as any;\r\n  socket.emit(\"message\", message);\r\n};\r\n\r\n// export const spotifySearch = (artist:string) => {\r\n//       fetch(process.env.REACT_APP_SERVER + \"/search\", {\r\n//       method: \"POST\",\r\n//       credentials: \"include\",\r\n//       headers: { \"Content-Type\": \"application/json\" },\r\n//       body: JSON.stringify({ artist })\r\n//     })\r\n//       .then(r => r.json())\r\n//       .then(data => {\r\n//         if (data.error && data.error.message === \"The access token expired\") {\r\n//           return\r\n//         } else {\r\n//           if (data.artists.items.length === 0) setError(\"nothing found\");\r\n//           setArtists(data.artists.items);\r\n//         }\r\n//       });\r\n// }\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Label = styled.div`\r\n  margin-bottom: 5px;\r\n`;\r\n\r\nconst SInput = styled.input`\r\n  background: black;\r\n  border: 2px solid white;\r\n  color: white;\r\n  padding: 11px;\r\n\r\n  &.first,\r\n  &.second {\r\n    width: 50%;\r\n  }\r\n`;\r\n\r\ninterface Props {\r\n  className: string;\r\n  label: string;\r\n  name: string;\r\n  placeholder: string;\r\n  handleChange?: any;\r\n}\r\nfunction Input({ className, label, name, placeholder, handleChange }: Props) {\r\n  return (\r\n    <div style={{ display: \"flex\", flexDirection: \"column\" }}>\r\n      <Label>{label}</Label>\r\n      <SInput\r\n        onChange={handleChange}\r\n        className={className}\r\n        placeholder={placeholder}\r\n        name={name}\r\n        type=\"tel\"\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Input;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Button = styled.div`\r\n  text-align: center;\r\n  font-weight: 500;\r\n  font-size: 40px;\r\n  padding: 1rem;\r\n  background: #6cccf1;\r\n  letter-spacing: 1px;\r\n  border: 3px solid white;\r\n  cursor: pointer;\r\n`;\r\n\r\nfunction PurchaseButton({\r\n  printTicket,\r\n  setOpacity,\r\n  fullname\r\n}: {\r\n  printTicket: any;\r\n  setOpacity: any;\r\n  fullname: string;\r\n}) {\r\n  const [purchasing, setPurchasing] = useState(false);\r\n  useEffect(() => {\r\n    if (!purchasing) return;\r\n    setTimeout(() => printTicket(fullname), 3000);\r\n    setTimeout(() => setOpacity(0), 2000);\r\n    const startTime = Date.now();\r\n    const button = document.getElementById(\"purchase-button\");\r\n    let frame: number;\r\n    const animate = () => {\r\n      const diff = Date.now() - startTime;\r\n      frame = requestAnimationFrame(animate);\r\n      const wave = (1.4 + Math.sin(diff * 0.01)) * 0.5;\r\n      if (button) button.style.opacity = wave.toString();\r\n    };\r\n    animate();\r\n\r\n    return () => cancelAnimationFrame(frame);\r\n  }, [purchasing]);\r\n  return (\r\n    <Button\r\n      id=\"purchase-button\"\r\n      onClick={() => {\r\n        setPurchasing(true);\r\n      }}\r\n    >\r\n      {purchasing ? \"â˜º\" : \"PURCHASE\"}\r\n    </Button>\r\n  );\r\n}\r\n\r\nexport default PurchaseButton;\r\n","import React, { useState } from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Button = styled.div`\r\n  background: red;\r\n  padding: 6px;\r\n  border: 1px solid white;\r\n  position: absolute;\r\n  top: ${(props: { top: number }) => props.top + \"px\"};\r\n`;\r\nfunction CancelButton() {\r\n  const [top, setTop] = useState(0);\r\n  const [counter, setCounter] = useState(0);\r\n  const [text, setText] = useState(\"CANCEL\");\r\n  const jump = () => {\r\n    setCounter(counter + 1);\r\n    if (top === 0) {\r\n      setTop(60);\r\n    } else {\r\n      setTop(0);\r\n    }\r\n    if (counter > 10 && counter < 20) {\r\n      setText(\"NOOO!\");\r\n    }\r\n    if (counter > 20 && counter < 30) {\r\n      setText(\"FUCK YOU!!!!\");\r\n    }\r\n    if (counter > 40) {\r\n      setTop(10000);\r\n      setText(\"GO AWAY!\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Button top={top} onMouseEnter={jump}>\r\n      {text}\r\n    </Button>\r\n  );\r\n}\r\n\r\nexport default CancelButton;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport dateFormat from \"dateformat\";\r\nimport styled from \"styled-components\";\r\nimport Input from \"./bits/Input\";\r\nimport PurchaseButton from \"./PurchaseButton\";\r\nimport CancelButton from \"./CancelButton\";\r\n\r\nexport const Container = styled.form`\r\n  border: 3px solid white;\r\n  width: 333px;\r\n  margin: 2rem auto;\r\n  display: grid;\r\n  grid-template-columns: 1fr 1fr 1fr;\r\n  grid-column-gap: 10px;\r\n  grid-row-gap: 21px;\r\n  padding: 1rem;\r\n  opacity: ${(props: { opacity: number }) => props.opacity};\r\n  transition: opacity 1s;\r\n  font-size: 12px;\r\n`;\r\n\r\nconst Inputs = styled.div`\r\n  display: grid;\r\n  grid-template-rows: 1fr 1fr 1fr;\r\n  grid-row-gap: 21px;\r\n  grid-column: 1 / span 3;\r\n\r\n  input::placeholder {\r\n    color: #6ccfff;\r\n  }\r\n`;\r\n\r\nconst Review = styled.div`\r\n  grid-area: 1 / 1 / span 1 / span 3;\r\n  padding: 10px;\r\n  font-size: 15px;\r\n  div {\r\n    margin: 5px 0 0;\r\n  }\r\n  .artist-venue {\r\n    font-size: 27px;\r\n    text-transform: capitalize;\r\n  }\r\n  .service-fee {\r\n    font-size: 8px;\r\n  }\r\n  .total {\r\n    color: #f56767;\r\n  }\r\n`;\r\n\r\nconst ListItemContainer = styled.div`\r\n  display: grid;\r\n  text-align: center;\r\n  grid-template-columns: 30% 8% 15% 10% 10%;\r\n  div:first-child,\r\n  div:nth-child(3) {\r\n    text-align: left;\r\n  }\r\n`;\r\n\r\ninterface Props {\r\n  cart: any;\r\n  printTicket: any;\r\n  show: any;\r\n}\r\n\r\nfunction CheckoutForm({ cart, printTicket, show }: Props) {\r\n  const [opacity, setOpacity] = useState(0);\r\n  const [fullname, setFullname] = useState(\"\");\r\n  useEffect(() => {\r\n    setTimeout(() => setOpacity(1), 10);\r\n  }, []);\r\n  if (!show && !cart) return <div>what</div>;\r\n\r\n  const handleChange = (e: any) => setFullname(e.target.value);\r\n\r\n  const { artist, venue, date } = show;\r\n  const { price, quantity } = cart;\r\n  return (\r\n    <Container opacity={opacity}>\r\n      <Review>\r\n        <div className={\"artist-venue\"}>\r\n          {artist} @ {venue}\r\n        </div>\r\n        {/* <div>{venue}</div> */}\r\n        <div className=\"time-date\">\r\n          {dateFormat(date, \"mm/dd/yy\")} {dateFormat(date, \"h:MM TT\")}\r\n        </div>\r\n        <div>__________________________________</div>\r\n        <ListItemContainer>\r\n          <div>Price:</div>\r\n          <div></div> <div>${price}</div> <div>X</div> <div>{quantity}</div>\r\n        </ListItemContainer>\r\n        <ListItemContainer>\r\n          <div>Subtotal:</div>\r\n          <div></div> <div>${price * quantity}.00</div>\r\n        </ListItemContainer>\r\n        <ListItemContainer className=\"service-fee\">\r\n          <div>Service Fee:</div>\r\n          <div></div> <div>${Math.floor(price * quantity * 0.69)}.00</div>\r\n        </ListItemContainer>\r\n        <ListItemContainer className=\"total\">\r\n          <div>Total:</div>\r\n          <div></div>\r\n          <div>\r\n            ${Math.floor(price * quantity * 0.69 + price * quantity)}.00\r\n          </div>\r\n        </ListItemContainer>\r\n      </Review>\r\n      <Inputs>\r\n        <Input\r\n          className=\"input\"\r\n          name={\"name\"}\r\n          label={\"Full Name\"}\r\n          placeholder={\"Full Name\"}\r\n          handleChange={handleChange}\r\n        />\r\n        <Input\r\n          className=\"\"\r\n          name={\"cardnumber\"}\r\n          label={\"Credit Card\"}\r\n          placeholder={\"XXXX XXXX XXXX XXXX\"}\r\n        />\r\n        <div style={{ display: \"grid\", gridTemplateColumns: \"1fr 1fr\" }}>\r\n          <Input\r\n            className=\"first\"\r\n            name={\"CCTV\"}\r\n            label={\"CCTV\"}\r\n            placeholder={\"CCTV\"}\r\n          />\r\n          <Input\r\n            className=\"second\"\r\n            name={\"cc-exp\"}\r\n            label={\"Expiration Date\"}\r\n            placeholder={\"Exp. Date\"}\r\n          />\r\n        </div>\r\n      </Inputs>\r\n      <PurchaseButton\r\n        printTicket={printTicket}\r\n        fullname={fullname}\r\n        setOpacity={setOpacity}\r\n      />\r\n      <div style={{ position: \"relative\" }}>\r\n        <CancelButton />\r\n      </div>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default CheckoutForm;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { State } from \"../reducers\";\r\nimport CheckoutForm from \"../components/CheckoutForm\";\r\nimport { showById } from \"./utils\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\ninterface Props {\r\n  history: any;\r\n  state: State;\r\n  dispatch: any;\r\n}\r\n\r\nfunction Checkout({ history, state, dispatch }: Props) {\r\n  if (state.shows.onsale.length === 0) return <div>what</div>;\r\n  let show = {};\r\n  if (state.cart.showId) {\r\n    show = showById(state.cart.showId, state.shows);\r\n  }\r\n\r\n  const printTicket = (fullname: string) => {\r\n    history.push(`/ticket/${state.cart.showId}`);\r\n    dispatch({ type: \"PURCHASE\", payload: { fullname } });\r\n  };\r\n\r\n  if (!show) {\r\n    return <Redirect to=\"/\" />;\r\n  }\r\n  return (\r\n    <CheckoutForm cart={state.cart} printTicket={printTicket} show={show} />\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state: State) => ({ state });\r\nconst mapDispatchToProps = (dispatch: any) => ({ dispatch });\r\nexport default connect(mapStateToProps)(Checkout);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport QRCode from \"qrcode\";\r\nimport dateFormat from \"dateformat\";\r\nimport { connect } from \"react-redux\";\r\nimport { State } from \"../reducers\";\r\nimport { OnSale } from \"../reducers/shows\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Container = styled.div`\r\n  padding: 2rem 1rem;\r\n  margin: auto;\r\n  background: black;\r\n  max-width: 260px;\r\n  border: 2px solid white;\r\n  div {\r\n    * {\r\n      display: block;\r\n      margin: 0 auto;\r\n    }\r\n  }\r\n\r\n  img {\r\n    width: 70%;\r\n    border: 6px solid white;\r\n    margin-bottom: 12px;\r\n  }\r\n  .top {\r\n    margin-bottom: 10px;\r\n  }\r\n  .field {\r\n    width: 70%;\r\n    margin: 1px auto;\r\n    text-transform: capitalize;\r\n    .label {\r\n      font-size: 12px;\r\n      font-weight: 500;\r\n      color: red;\r\n    }\r\n    .value {\r\n      margin-top: -4px;\r\n      font-size: 24px;\r\n    }\r\n    .venue {\r\n      font-size: 20px;\r\n    }\r\n    .date {\r\n      font-size: 18px;\r\n    }\r\n\r\n    .venue,\r\n    .date {\r\n      margin-left: 1px;\r\n    }\r\n  }\r\n`;\r\ninterface Props {\r\n  state: State;\r\n}\r\n\r\nfunction Ticket({ state }: Props) {\r\n  console.log(state);\r\n  const [qr, setQr] = useState(\"\" as any);\r\n  const makeQR = async (value: string) => {\r\n    var opts: any = {\r\n      errorCorrectionLevel: \"H\",\r\n      type: \"image/jpeg\",\r\n      color: { light: \"#000000\", dark: \"#FFFFFF\" },\r\n      width: 400,\r\n      rendererOpts: {\r\n        quality: 1\r\n      }\r\n    };\r\n    const qr = await QRCode.toDataURL(value, opts);\r\n    setQr(qr);\r\n    return qr;\r\n  };\r\n  const showObject = state.shows.onsale[0] as OnSale;\r\n  useEffect(() => {\r\n    makeQR(\"https://open.spotify.com/artist/\" + showObject.artists.id);\r\n  }, []);\r\n  if (!state.shows.onsale) return <div>what</div>;\r\n\r\n  return (\r\n    <Container>\r\n      <div>\r\n        <img src={qr} />\r\n      </div>\r\n      <div className=\"top\">\r\n        <div className=\"field\">\r\n          <div className=\"label\">NAME</div>\r\n          <div className=\"value\">\r\n            {state.cart.fullname ? state.cart.fullname : \"ANONYMOUS\"}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"field\">\r\n        <div className=\"label\">SHOW</div>\r\n        <div className=\"value\">{showObject.artist}</div>\r\n        <div className=\"venue\">{showObject.venue}</div>\r\n        <div className=\"date\">\r\n          {dateFormat(showObject.date, \"dddd, mmmm dS\")}\r\n          <div>{dateFormat(showObject.date, \"h:MM TT\")}</div>\r\n        </div>\r\n      </div>\r\n    </Container>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state: State) => ({ state });\r\nexport default connect(mapStateToProps)(Ticket);\r\n","import React from \"react\";\r\n\r\nexport const Logo = () => (\r\n  <svg\r\n    x=\"0px\"\r\n    y=\"0px\"\r\n    viewBox=\"0 0 367 146\"\r\n    style={{ maxWidth: \"330px\", margin: \"auto\", display: \"block\" }}\r\n  >\r\n    <g style={{ fill: \"white\" }}>\r\n      <g>\r\n        <g>\r\n          <path\r\n            d=\"M72.65,69.08c-4.47-4.29-9.43-8.48-15.43-10.4c-5.59-1.79-11.39-0.97-15.97,2.78c-4,3.27-6.22,8.58-4.1,13.55\r\n\t\t\tc2,4.7,6.84,7,11.46,8.39c5.06,1.53,10.29,2.02,14.76,5.09c1.92,1.32,3.85,3.15,4.56,5.44c0.68,2.19-0.03,4.55-1.78,6.04\r\n\t\t\tc-4.12,3.5-10.27,1.76-14.67-0.05c-5.29-2.17-10.71-4.83-16.55-3.32c-10.33,2.66-17.01,15.63-11.96,25.31\r\n\t\t\tc0.89,1.71,3.48,0.2,2.59-1.51c-4.06-7.79,1.51-18.28,9.59-20.74c5.55-1.69,10.9,1.29,15.93,3.32c4.65,1.88,9.82,2.88,14.59,0.78\r\n\t\t\tc4.4-1.95,6.71-6.92,4.83-11.46c-1.91-4.61-6.74-7.6-11.26-9.21c-4.63-1.65-9.65-1.95-14.1-4.19c-4-2.01-7.08-5.97-5.35-10.61\r\n\t\t\tc2.02-5.43,8.46-8.29,13.93-7.36c6.66,1.13,12.08,5.77,16.81,10.3C71.92,72.54,74.05,70.42,72.65,69.08L72.65,69.08z\"\r\n          />\r\n        </g>\r\n      </g>\r\n      <g>\r\n        <g>\r\n          <path\r\n            d=\"M83.29,56.29c5.54,8.93,0.21,20.14,0.6,29.8c0.18,4.39,1.38,9.43,4.83,12.45c2.58,2.26,6.19,3.37,9.6,3.04\r\n\t\t\tc3.77-0.36,7.27-2.48,8.14-6.38c0.42-1.88-2.47-2.68-2.89-0.8c-1.36,6.06-10.4,4.88-13.58,1.16c-2.79-3.26-3.26-7.97-3.1-12.08\r\n\t\t\tc0.17-4.64,1.22-9.18,1.64-13.79c0.47-5.12,0.12-10.45-2.66-14.92C84.87,53.14,82.27,54.64,83.29,56.29L83.29,56.29z\"\r\n          />\r\n        </g>\r\n      </g>\r\n      <g>\r\n        <g>\r\n          <path\r\n            d=\"M75.68,77.3c7.55-1.26,15.09-2.52,22.64-3.77c1.9-0.32,1.09-3.21-0.8-2.89c-7.55,1.26-15.09,2.52-22.64,3.77\r\n\t\t\tC72.98,74.72,73.79,77.61,75.68,77.3L75.68,77.3z\"\r\n          />\r\n        </g>\r\n      </g>\r\n      <g>\r\n        <g>\r\n          <path\r\n            d=\"M110.96,72.61c-2.3,6.35-4.44,14.78,1.81,19.7c5.59,4.4,12.62-0.05,14.55-6.01c1.38-4.26,0.56-8.85-0.21-13.14\r\n\t\t\tc-0.27-1.48-2.55-1.37-2.89,0c-2.69,10.81,5.96,22.43,17.05,23.06c1.93,0.11,1.92-2.89,0-3c-9.13-0.52-16.36-10.41-14.16-19.26\r\n\t\t\tc-0.96,0-1.93,0-2.89,0c0.68,3.8,1.46,7.96,0.15,11.71c-0.98,2.81-3.69,5.66-6.88,5.44c-3.1-0.21-5.11-3.24-5.72-6.02\r\n\t\t\tc-0.86-3.92,0.77-8.06,2.09-11.69C114.51,71.59,111.61,70.8,110.96,72.61L110.96,72.61z\"\r\n          />\r\n        </g>\r\n      </g>\r\n      <g>\r\n        <g>\r\n          <path\r\n            d=\"M137.08,53.47c1.86,13.84,3.72,27.68,5.58,41.52c0.11,0.81,1.14,1.23,1.85,1.05c0.87-0.23,1.16-1.05,1.05-1.85\r\n\t\t\tc-1.86-13.84-3.72-27.68-5.58-41.52c-0.11-0.81-1.14-1.23-1.85-1.05C137.26,51.86,136.97,52.68,137.08,53.47L137.08,53.47z\"\r\n          />\r\n        </g>\r\n      </g>\r\n      <g>\r\n        <g>\r\n          <path\r\n            d=\"M143.9,76.52c3.61-3.31,9.98-1.74,12.77,2.03c1.46,1.98,1.84,4.48,0.88,6.69c-0.98,2.25-3.07,3.98-5.33,4.84\r\n\t\t\tc-2.57,0.96-5.6,1.03-7.82-0.75c-0.63-0.51-1.5-0.62-2.12,0c-0.52,0.52-0.64,1.61,0,2.12c5.47,4.38,14.02,1.97,17.44-3.87\r\n\t\t\tc1.73-2.96,1.79-6.61,0.13-9.61c-1.59-2.87-4.54-4.9-7.67-5.76c-3.63-1-7.58-0.38-10.39,2.21\r\n\t\t\tC140.36,75.71,142.48,77.82,143.9,76.52L143.9,76.52z\"\r\n          />\r\n        </g>\r\n      </g>\r\n      <g>\r\n        <g>\r\n          <path\r\n            d=\"M213.06,60.83c-1.12-6.4-7.94-10.88-14.26-10.13c-6.64,0.78-10.8,7.21-10.19,13.64c0.3,3.12,1.6,6.14,4.05,8.18\r\n\t\t\tc2.5,2.07,5.58,3.17,8.61,4.23c2.71,0.95,5.78,1.84,7.83,3.97c2.31,2.4,2.13,5.8,0.08,8.3c-2.8,3.42-7.17,4.47-11.35,3.38\r\n\t\t\tc-4.71-1.23-8.7-4.37-12.44-7.35c-1.49-1.19-3.63,0.92-2.12,2.12c5.97,4.77,13.97,10.9,22.11,7.98c3.3-1.18,6.3-3.58,7.7-6.86\r\n\t\t\tc1.34-3.14,0.76-6.59-1.41-9.2c-4.01-4.85-11.26-4.84-16.24-8.23c-4.92-3.34-5.1-11.12-0.88-15.12\r\n\t\t\tc5.24-4.95,14.45-0.75,15.61,5.88C210.49,63.53,213.39,62.72,213.06,60.83L213.06,60.83z\"\r\n          />\r\n        </g>\r\n      </g>\r\n      <g>\r\n        <g>\r\n          <path\r\n            d=\"M219.22,40.42c-1.45-2.42,2.58-4.12,4.46-3.94c3.57,0.33,4.64,5.26,4.89,8.11c0.41,4.72,0.09,9.55,0.06,14.28\r\n\t\t\tc-0.03,5.29-0.07,10.58-0.1,15.86c-0.04,6.03-0.08,12.06-0.12,18.1c-0.01,1.93,2.99,1.93,3,0c0.08-12.39,0.16-24.79,0.25-37.18\r\n\t\t\tc0.03-5.02,0.65-10.58-0.87-15.45c-1.23-3.93-4.33-7.31-8.74-6.61c-3.8,0.61-7.78,4.39-5.41,8.35\r\n\t\t\tC217.62,43.59,220.21,42.09,219.22,40.42L219.22,40.42z\"\r\n          />\r\n        </g>\r\n      </g>\r\n      <g>\r\n        <g>\r\n          <path\r\n            d=\"M232.06,69.67c-0.81-2.07,2.24-3.36,3.9-2.86c2.74,0.83,3.64,4.58,4.08,7.01c0.56,3.1,0.72,6.29,2.23,9.12\r\n\t\t\tc1.34,2.52,3.67,4.19,6.58,4.2c2.94,0.01,5.59-1.7,5.9-4.75c0.2-1.92-2.8-1.9-3,0c-0.2,1.99-3.31,1.99-4.65,1.41\r\n\t\t\tc-2.71-1.18-3.3-5.11-3.69-7.66c-0.47-3.08-0.82-6.33-2.6-8.99c-1.66-2.47-4.28-3.97-7.28-3.24c-2.84,0.69-5.55,3.49-4.36,6.56\r\n\t\t\tC229.86,72.24,232.76,71.47,232.06,69.67L232.06,69.67z\"\r\n          />\r\n        </g>\r\n      </g>\r\n      <g>\r\n        <g>\r\n          <path\r\n            d=\"M257.17,69.6c4.47-3.26,8.94-6.51,13.41-9.77c-0.61-0.08-1.21-0.16-1.82-0.23c5.63,4.7,12.95,10.59,13.44,18.55\r\n\t\t\tc0.34,5.45-3.24,13.53-10,11.94c-5.65-1.33-9.03-9.02-6.28-14.1c3.15-5.81,10.95-7.24,16.79-5.21\r\n\t\t\tc8.12,2.83,12.23,12.08,13.01,20.05c0.18,1.9,3.19,1.92,3,0c-0.84-8.65-4.89-18.01-13.08-22.05c-6.82-3.36-16.28-2.3-21.14,3.94\r\n\t\t\tc-4.7,6.04-2.37,15.44,4.19,19.17c3.23,1.84,7.2,1.76,10.35-0.24c3.17-2.01,5.15-5.54,5.85-9.17\r\n\t\t\tc2.07-10.78-6.52-18.75-14.01-25.01c-0.47-0.39-1.26-0.64-1.82-0.23c-4.47,3.26-8.94,6.51-13.41,9.77\r\n\t\t\tC254.11,68.13,255.61,70.74,257.17,69.6L257.17,69.6z\"\r\n          />\r\n        </g>\r\n      </g>\r\n      <g>\r\n        <g>\r\n          <path\r\n            d=\"M298.81,49.7c3.11,10.7,6.22,21.4,9.34,32.1c0.54,1.85,3.43,1.06,2.89-0.8c-3.11-10.7-6.22-21.4-9.34-32.1\r\n\t\t\tC301.16,47.06,298.27,47.84,298.81,49.7L298.81,49.7z\"\r\n          />\r\n        </g>\r\n      </g>\r\n      <g>\r\n        <g>\r\n          <path\r\n            d=\"M305.41,60.07c1.48-4.96,7.95-6.78,12.39-4.85c6.06,2.64,8.56,9.75,8.67,15.9c0.09,4.64-0.87,9.21-1.81,13.73\r\n\t\t\tc-0.39,1.88,2.5,2.69,2.89,0.8c1.77-8.44,3.47-17.6-0.76-25.61c-3.27-6.18-10.05-10.24-17.03-7.88c-3.4,1.15-6.2,3.62-7.25,7.12\r\n\t\t\tC301.96,61.13,304.86,61.92,305.41,60.07L305.41,60.07z\"\r\n          />\r\n        </g>\r\n      </g>\r\n      <g>\r\n        <g>\r\n          <path\r\n            d=\"M325.68,56.18c5.32-4.49,13.53-4.44,19.27-0.79c6.12,3.89,7.86,11.55,5.6,18.18c-1.25,3.67-3.74,6.83-7.14,8.7\r\n\t\t\tc-1.69,0.93-0.18,3.52,1.51,2.59c7.29-4.02,10.83-13,9.21-21.02c-1.7-8.4-9.43-13.78-17.74-14.09c-4.67-0.18-9.25,1.3-12.83,4.31\r\n\t\t\tC322.09,55.31,324.22,57.42,325.68,56.18L325.68,56.18z\"\r\n          />\r\n        </g>\r\n      </g>\r\n    </g>\r\n  </svg>\r\n);\r\n","import React, { useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { Logo } from \"./containers/Logo\";\r\n\r\nconst Container = styled.div`\r\n  .selected > .show-wrapper {\r\n    background: red;\r\n  }\r\n  .show-wrapper {\r\n    display: flex;\r\n    justify-content: space-evenly;\r\n    border: 2px solid white;\r\n    margin: 43px;\r\n    padding: 20px;\r\n  }\r\n  .name {\r\n    margin-bottom: 22px;\r\n  }\r\n`;\r\n\r\nconst SearchBox = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  margin: 30px;\r\n  .header {\r\n    font-size: 30px;\r\n    font-weight: 500;\r\n  }\r\n  * {\r\n    margin-top: 15px;\r\n  }\r\n  .error {\r\n    color: red;\r\n  }\r\n`;\r\n\r\nconst Button = styled.div`\r\n  border: 2px solid white;\r\n  padding: 1rem;\r\n  width: 100px;\r\n  text-align: center;\r\n  background: black;\r\n  cursor: pointer;\r\n`;\r\n\r\nconst Input = styled.input`\r\n  border: 2px solid white;\r\n  width: 270px;\r\n  height: 41px;\r\n  background: black;\r\n  color: white;\r\n  text-align: center;\r\n`;\r\n\r\nconst Creator = () => {\r\n  const [artistSearch, setAritstSearch] = useState(\"\");\r\n  const [artists, setArtists] = useState([] as any);\r\n  const [selected, setSelected] = useState();\r\n  const [error, setError] = useState(\"\");\r\n  const search = async () => {\r\n    fetch(process.env.REACT_APP_SERVER + \"/search\", {\r\n      method: \"POST\",\r\n      credentials: \"include\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({ artist: artistSearch })\r\n    })\r\n      .then(r => r.json())\r\n      .then(data => {\r\n        console.log(data);\r\n        if (data.error && data.error.message === \"The access token expired\") {\r\n          fetch(process.env.REACT_APP_SERVER + \"/new_token\")\r\n            .then(r => r.json())\r\n            .then(data => {\r\n              if (data.message === \"new_token\") {\r\n                search();\r\n              }\r\n            });\r\n        } else {\r\n          if (data.artists.items.length === 0) setError(\"nothing found\");\r\n          setArtists(data.artists.items);\r\n        }\r\n      });\r\n  };\r\n\r\n  const pick = () => {\r\n    fetch(process.env.REACT_APP_SERVER + \"/pick\", {\r\n      method: \"POST\",\r\n      credentials: \"include\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({ selected })\r\n    })\r\n      .then(r => r.json())\r\n      .then(data => {\r\n        if (data.message === \"search_again\") {\r\n          search().then(() => pick());\r\n        }\r\n      })\r\n      .catch(error => search());\r\n  };\r\n  return (\r\n    <Container>\r\n      <Logo />\r\n      <SearchBox>\r\n        <div className=\"header\">You have been chosen to create a show</div>\r\n        <div className=\"header\">SEARCH FOR AN ARTIST</div>\r\n        <Input\r\n          onChange={e => setAritstSearch(e.target.value)}\r\n          onKeyDown={e => {\r\n            if (e.key === \"Enter\") search();\r\n          }}\r\n        />\r\n        <div className=\"error\">{error}</div>\r\n        <Button onClick={search}>SEARCH</Button>\r\n      </SearchBox>\r\n      <div>\r\n        {artists.length > 0 &&\r\n          artists.map((i: any) => (\r\n            <div className={selected === i.id ? \"selected\" : \"\"} key={i.name}>\r\n              <div className=\"show-wrapper\" onClick={() => setSelected(i.id)}>\r\n                <div>\r\n                  <div className=\"name\">{i.name}</div>\r\n                  {selected === i.id && <Button onClick={pick}>CHOOSE</Button>}\r\n                </div>\r\n                <img\r\n                  width=\"100px\"\r\n                  height=\"100px\"\r\n                  src={i.images.length > 0 ? i.images[0].url : \"\"}\r\n                />\r\n              </div>\r\n            </div>\r\n          ))}\r\n      </div>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Creator;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport Lottie from \"react-lottie\";\r\nimport animationData from \"./waiting.json\";\r\nimport styled from \"styled-components\";\r\nimport { connect } from \"react-redux\";\r\nimport { State } from \"./reducers\";\r\nimport { sendMessage } from \"./actions\";\r\nimport { Logo } from \"./containers/Logo\";\r\n\r\nconst ChatBox = styled.div`\r\n  border: 3px solid white;\r\n  padding: 1rem;\r\n  margin: 1 rem;\r\n  min-height: 300px;\r\n`;\r\nconst InputWrapper = styled.div`\r\n  display: flex;\r\n  justify-content: space-around;\r\n  margin: 15px auto;\r\n  max-width: 260px;\r\n`;\r\nconst Input = styled.input`\r\n  background: black;\r\n  border: 2px solid white;\r\n  color: white;\r\n  text-align: center;\r\n`;\r\nconst Button = styled.div`\r\n  background: black;\r\n  color: white;\r\n  border: 3px solid white;\r\n  padding: 0.5rem;\r\n`;\r\nconst Waiting = ({ state, sendMessage }: any) => {\r\n  const [inputText, setInputText] = useState(\"\");\r\n  const chatWrap = useRef() as any;\r\n  const sendIt = () => {\r\n    if (!inputText) return;\r\n    sendMessage(inputText);\r\n    setInputText(\"\");\r\n  };\r\n\r\n  useEffect(() => {\r\n    chatWrap.current.scrollTop = chatWrap.current.scrollHeight;\r\n  }, [state.socket.messages]);\r\n\r\n  return (\r\n    <div style={{ height: \"100%\", margin: \"1rem\" }}>\r\n      <Logo />\r\n      <Lottie options={{ autoplay: true, loop: true, animationData }} />\r\n      <div style={{ fontSize: 20, margin: \"15px 0\" }}>\r\n        <div>for the ticket sale to start...</div>\r\n        <div>feel free to say something stupid</div>\r\n      </div>\r\n      <ChatBox>\r\n        <div\r\n          ref={chatWrap}\r\n          style={{ height: \"80%\", maxHeight: \"300px\", overflow: \"auto\" }}\r\n        >\r\n          {state.socket.messages.map((m: any, i: number) => (\r\n            <div key={m + i}>â˜º: {m}</div>\r\n          ))}\r\n        </div>\r\n        <InputWrapper>\r\n          <Input\r\n            onChange={e => setInputText(e.target.value)}\r\n            onKeyDown={e => {\r\n              if (e.key === \"Enter\") sendIt();\r\n            }}\r\n            value={inputText}\r\n          />\r\n          <Button onClick={sendIt}>send it</Button>\r\n        </InputWrapper>\r\n      </ChatBox>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state: State) => ({ state });\r\nconst mapDispatchToProps = (dispatch: any) => ({\r\n  dispatch,\r\n  sendMessage: (message: string) => dispatch(sendMessage(message))\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Waiting);\r\n","import React, { useEffect } from \"react\";\nimport \"./App.css\";\nimport { connect } from \"react-redux\";\nimport { State } from \"./reducers\";\nimport { State as SocketState } from \"./reducers/socket\";\nimport { State as ShowsState } from \"./reducers/shows\";\nimport { Switch, Route, Link } from \"react-router-dom\";\nimport Home from \"./containers/Home\";\nimport Purchase from \"./containers/Purchase\";\nimport { initShows } from \"./actions\";\nimport Checkout from \"./containers/Checkout\";\nimport Ticket from \"./containers/Ticket\";\nimport Creator from \"./Creator\";\nimport Waiting from \"./Waiting\";\nimport { Logo } from \"./containers/Logo\";\n\ninterface Props {\n  socket: SocketState;\n  dispatch: any;\n  shows: ShowsState;\n}\n\nfunction App({ dispatch, socket, shows }: Props) {\n  useEffect(() => {\n    dispatch(initShows());\n  }, []);\n  if (socket.readyState === 1) {\n    return <div>connecting...</div>;\n  }\n  if (shows.loading) return <div>loading...</div>;\n  if (shows.status === \"creator\") return <Creator />;\n  if (shows.status === \"waiter\") return <Waiting />;\n  return (\n    <div>\n      <Link to=\"/\">\n        <Logo />\n      </Link>\n      <Switch>\n        <Route path=\"/purchase/:id\" component={Purchase} />\n        <Route path=\"/checkout/:id\" component={Checkout} />\n        <Route path=\"/ticket/:id\" component={Ticket} />\n        <Route path=\"/\" component={Home} />\n      </Switch>\n    </div>\n  );\n}\n\nconst mapStateToProps = ({ socket, shows }: State) => ({ socket, shows });\nconst mapDispatchToProps = (dispatch: any) => ({ dispatch });\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","import { Action } from \"./\";\r\n\r\nenum SaleStatus {\r\n  CREATOR = \"creator\",\r\n  WAITER = \"waiter\",\r\n  ONSALE = \"onsale\"\r\n}\r\n\r\nexport type State = {\r\n  onsale: object[];\r\n  status: SaleStatus;\r\n  loading: boolean;\r\n};\r\n\r\nexport type ShowPayload = {\r\n  onsale: object[];\r\n  status: SaleStatus;\r\n};\r\n\r\nconst initialState: State = {\r\n  onsale: [],\r\n  status: SaleStatus.WAITER,\r\n  loading: true\r\n};\r\n\r\nexport type OnSale = {\r\n  artist: string;\r\n  date: string;\r\n  venue: string;\r\n  id: number;\r\n  img: string;\r\n  artists: any;\r\n};\r\n\r\nconst reducer = (state: State = initialState, action: Action<ShowPayload>) => {\r\n  console.log(action.type);\r\n  switch (action.type) {\r\n    case \"INIT_SHOWS\":\r\n      const { onsale, status } = action.payload;\r\n      return { ...state, onsale, status, loading: false };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport default reducer;\r\n","import { CONNECTING, CONNECTED } from \"../actions\";\r\nimport { Action } from \"./\";\r\n\r\nexport type State = {\r\n  connected: boolean;\r\n  readyState: number;\r\n  socket: WebSocket | null;\r\n  messages: string[];\r\n};\r\n\r\nexport type SocketPayload = {\r\n  socket: any;\r\n  message: string;\r\n};\r\n\r\nconst initialState: State = {\r\n  connected: false,\r\n  readyState: 0,\r\n  socket: null,\r\n  messages: []\r\n};\r\n\r\nconst reducer = (\r\n  state: State = initialState,\r\n  action: Action<SocketPayload>\r\n) => {\r\n  switch (action.type) {\r\n    case CONNECTING:\r\n      const { socket } = action.payload;\r\n      return { ...state, readyState: 1, socket };\r\n    case CONNECTED:\r\n      return { ...state, readyState: 2, connected: true };\r\n    case \"NEW_MESSAGE\":\r\n      return {\r\n        ...state,\r\n        messages: [...state.messages, action.payload.message]\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","import { Action } from \"./\";\r\n\r\nexport type State = {\r\n  quantity: number;\r\n  price: number;\r\n  showId: number | null;\r\n  fullname: string;\r\n};\r\n\r\nexport type CartPayload = {\r\n  quantity: number;\r\n  price: number;\r\n  showId: number;\r\n  fullname: string;\r\n};\r\n\r\nconst initialState: State = {\r\n  quantity: 0,\r\n  price: 0,\r\n  showId: null,\r\n  fullname: \"\"\r\n};\r\n\r\nconst reducer = (state: State = initialState, action: Action<CartPayload>) => {\r\n  let quantity, price, showId, fullname;\r\n  if (action.payload) {\r\n    price = action.payload.price;\r\n    quantity = action.payload.quantity;\r\n    showId = action.payload.showId;\r\n    fullname = action.payload.fullname;\r\n  }\r\n  switch (action.type) {\r\n    case \"INIT_CART\":\r\n      return { ...state, price, quantity, showId, fullname };\r\n    case \"PICK_SHOW\":\r\n      return { ...state, showId };\r\n    case \"CHECKOUT\":\r\n      const newState = { ...state, quantity, price };\r\n      localStorage.setItem(\"cart\", JSON.stringify(newState));\r\n      return newState;\r\n    case \"PURCHASE\":\r\n      localStorage.setItem(\"cart\", JSON.stringify({ ...state, fullname }));\r\n      return { ...state, fullname };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport default reducer;\r\n","import { combineReducers } from \"redux\";\r\nimport socket from \"./socket\";\r\nimport shows from \"./shows\";\r\nimport cart from \"./cart\";\r\n\r\nimport { State as SocketState } from \"./socket\";\r\nimport { State as ShowState } from \"./shows\";\r\nimport { State as CartState } from \"./cart\";\r\n\r\nexport type State = {\r\n  socket: SocketState;\r\n  shows: ShowState;\r\n  cart: CartState;\r\n};\r\n\r\nexport type Action<T> = {\r\n  type: string;\r\n  payload: T;\r\n};\r\n\r\nexport default combineReducers({ cart, shows, socket });\r\n","import { createStore, applyMiddleware } from \"redux\";\r\nimport thunk, { ThunkMiddleware } from \"redux-thunk\";\r\nimport reducers, { State, Action } from \"./reducers\";\r\nimport { SocketPayload } from \"./reducers/socket\";\r\n\r\nconst peel = ({ getState, dispatch }: any) => {\r\n  return (next: any) => (action: any) => {\r\n    console.log(action);\r\n    console.log(getState());\r\n    next(action);\r\n  };\r\n};\r\nconst store = createStore(\r\n  reducers,\r\n  applyMiddleware(\r\n    thunk as ThunkMiddleware<State, Action<SocketPayload>>,\r\n    peel as any\r\n  )\r\n);\r\n\r\nexport default store;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport store from \"./store\";\nimport { connectSocket } from \"./actions\";\n\nstore.dispatch(connectSocket());\n\nconst cart = localStorage.getItem(\"cart\");\n\nif (cart) {\n  const existingCart = JSON.parse(cart);\n  const { price, quantity, showId, fullname } = existingCart;\n  store.dispatch({\n    type: \"INIT_CART\",\n    payload: { price, quantity, showId, fullname }\n  });\n}\nReactDOM.render(\n  <Provider store={store}>\n    <Router basename=\"/\">\n      <React.StrictMode>\n        <App />\n      </React.StrictMode>\n    </Router>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}